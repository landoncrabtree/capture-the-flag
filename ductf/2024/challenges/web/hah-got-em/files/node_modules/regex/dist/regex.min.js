var Regex=(()=>{var y=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var le=Object.getOwnPropertyNames;var ce=Object.prototype.hasOwnProperty;var fe=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})},pe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of le(t))!ce.call(e,s)&&s!==r&&y(e,s,{get:()=>t[s],enumerable:!(n=ue(t,s))||n.enumerable});return e};var Ee=e=>pe(y({},"__esModule",{value:!0}),e);var Ue={};fe(Ue,{partial:()=>k,regex:()=>Ie});var E={DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"};function h(e,t,r,n){let s=new RegExp(String.raw`${t}|(?<skip>\\?.)`,"gsu"),a=0,o="";for(let u of e.matchAll(s)){let{0:l,groups:{skip:f}}=u;if(!f&&(!n||n===E.DEFAULT==!a)){r instanceof Function?o+=r(u):o+=r;continue}l==="["?a++:l==="]"&&a&&a--,o+=l}return o}function I(e,t,r,n){h(e,t,r,n)}function P(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;let s=new RegExp(String.raw`${t}|(?<skip>\\?.)`,"gsu");s.lastIndex=r;let a=0,o;for(;o=s.exec(e);){let{0:u,groups:{skip:l}}=o;if(!l&&(!n||n===E.DEFAULT==!a))return o;u==="["?a++:u==="]"&&a&&a--,s.lastIndex==o.index&&s.lastIndex++}return null}function L(e,t,r){return!!P(e,t,0,r)}function q(e,t){let r=/\\?./gsu;r.lastIndex=t;let n=e.length,s=0,a=1,o;for(;o=r.exec(e);){let[u]=o;if(u==="[")s++;else if(s)u==="]"&&s--;else if(u==="(")a++;else if(u===")"&&(a--,!a)){n=o.index;break}}return e.slice(t,n)}var S=class{#e;constructor(t){this.#e=t}toString(){return String(this.#e)}};function k(e,...t){if(Array.isArray(e?.raw))return new S(e.raw.flatMap((r,n)=>n<e.raw.length-1?[r,t[n]]:r).join(""));if(!t.length)return new S(e??"");throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)}var c={DEFAULT:"R_DEFAULT",CHAR_CLASS:"R_CHAR_CLASS",GROUP_NAME:"R_GROUP_NAME",ENCLOSED_TOKEN:"R_ENCLOSED_TOKEN",INTERVAL_QUANTIFIER:"R_INTERVAL_QUANTIFIER",INVALID_INCOMPLETE_TOKEN:"R_INVALID_INCOMPLETE_TOKEN"},p={DEFAULT:"CC_DEFAULT",RANGE:"CC_RANGE",ENCLOSED_TOKEN:"CC_ENCLOSED_TOKEN",Q_TOKEN:"CC_Q_TOKEN",INVALID_INCOMPLETE_TOKEN:"CC_INVALID_INCOMPLETE_TOKEN"},F=(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),B=(()=>{try{new RegExp("","v")}catch{return!1}return!0})(),R="&!#$%*+,.:;<=>?@^`~",O=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!])`;function M(e,t){return t===E.CHAR_CLASS?e.replace(new RegExp(String.raw`[()\[\]{}|\\/\-${R}]`,"g"),"\\$&"):e.replace(/[()\[\]{}|\\^$*+?.]/g,"\\$&")}function G(e){return e.replace(new RegExp(String.raw`^([${R}])(?!\1)`),(t,r,n)=>`\\${t}${n+1===e.length?"":t}`)}function Z(e){return e.replace(/^\^/,"\\^^")}function D(e,t){return h(e,String.raw`\\0(?!\d)`,"\\u{0}",t)}function W(e,t,r){let n=0;for(let[s]of e.matchAll(new RegExp(`[${M(t+r,E.CHAR_CLASS)}]`,"g")))if(n+=s===t?1:-1,n<0)return r;return n>0?t:""}function J(e,t,r){let n=e.replace(/\\./gsu,"");if(n.endsWith("\\"))return"\\";if(t===c.DEFAULT)return W(n,"(",")");if(t===c.CHAR_CLASS&&!(r===p.ENCLOSED_TOKEN||r===p.Q_TOKEN))return W(n,"[","]");if(t===c.ENCLOSED_TOKEN||t===c.INTERVAL_QUANTIFIER||r===p.ENCLOSED_TOKEN||r===p.Q_TOKEN){if(n.includes("}"))return"}"}else if(t===c.GROUP_NAME&&n.includes(">"))return">";return""}var z=new RegExp(String.raw`
(?<groupN>\(\?<(?![=!])|\\[gk]<)
| (?<enclosedT>\\[pPu]\{)
| (?<qT>\\q\{)
| (?<intervalQ>\{)
| (?<incompleteT>\\(?: $
  | c(?![A-Za-z])
  | u(?![A-Fa-f\d]{4})[A-Fa-f\d]{0,3}
  | x(?![A-Fa-f\d]{2})[A-Fa-f\d]?
  )
)
| --
| \\?.
`.replace(/\s+/g,""),"gsu");function U(e,{regexContext:t=c.DEFAULT,charClassContext:r=p.DEFAULT,charClassDepth:n=0,lastPos:s=0}){z.lastIndex=s;let a;for(;a=z.exec(e);){let{0:o,groups:{groupN:u,enclosedT:l,qT:f,intervalQ:d,incompleteT:i}}=a;o==="["?(n++,t=c.CHAR_CLASS,r=p.DEFAULT):o==="]"&&t===c.CHAR_CLASS?(n&&n--,n||(t=c.DEFAULT),r=p.DEFAULT):t===c.CHAR_CLASS?i?r=p.INVALID_INCOMPLETE_TOKEN:o==="-"?r=p.RANGE:l?r=p.ENCLOSED_TOKEN:f?r=p.Q_TOKEN:(o==="}"&&(r===p.ENCLOSED_TOKEN||r===p.Q_TOKEN)||r===p.INVALID_INCOMPLETE_TOKEN||r===p.RANGE)&&(r=p.DEFAULT):i?t=c.INVALID_INCOMPLETE_TOKEN:u?t=c.GROUP_NAME:l?t=c.ENCLOSED_TOKEN:d?t=c.INTERVAL_QUANTIFIER:(o===">"&&t===c.GROUP_NAME||o==="}"&&(t===c.ENCLOSED_TOKEN||t===c.INTERVAL_QUANTIFIER)||t===c.INVALID_INCOMPLETE_TOKEN)&&(t=c.DEFAULT)}return{regexContext:t,charClassContext:r,charClassDepth:n,lastPos:e.length}}function x(e){let t=0;return I(e,String.raw`\((?:(?!\?)|\?<[^>]+>)`,()=>t++,E.DEFAULT),t}function X(e,t){return h(e,String.raw`\\(?<num>[1-9]\d*)`,({groups:{num:r}})=>`\\${+r+t}`,E.DEFAULT)}var de=["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Flag_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence","RGI_Emoji"].join("|"),ge=new RegExp(String.raw`
\\(?: c[A-Za-z]
  | p\{(?<pStrProp>${de})\}
  | [pP]\{[^\}]+\}
  | (?<qStrProp>q)
  | u(?:[A-Fa-f\d]{4}|\{[A-Fa-f\d]+\})
  | x[A-Fa-f\d]{2}
  | .
)
| --
| &&
| .
`.replace(/\s+/g,""),"gsu");function V(e){let t=!1,r;for(let{0:n,groups:s}of e.matchAll(ge)){if(s.pStrProp||s.qStrProp||n==="["&&t)return!0;if(["-","--","&&"].includes(n))t=!1;else if(!["[","]"].includes(n)){if(t||r==="]")return!0;t=!0}r=n}return!1}function j(e,t,r){let n={raw:[]},s=[],a={};return e.raw.forEach((o,u)=>{let l=r(o,{...a,lastPos:0});if(n.raw.push(l.transformed),a=l.runningContext,u<e.raw.length-1){let f=t[u];if(f instanceof S){let d=r(f,{...a,lastPos:0});s.push(k(d.transformed)),a=d.runningContext}else s.push(f)}}),{template:n,values:s}}var me=new RegExp(String.raw`
${O}
| \(\?<
| (?<backrefNum>\\[1-9]\d*)
| \\?.
`.replace(/\s+/g,""),"gsu");function Y(e,t){e=String(e);let r="",n="";for(let{0:s,groups:{backrefNum:a}}of e.matchAll(me)){r+=s,t=U(r,t);let{regexContext:o}=t;if(o===c.DEFAULT)if(s==="(")n+="(?:";else{if(a)throw new Error(`Invalid decimal escape "${s}" with implicit flag n; replace with named backreference`);n+=s}else n+=s}return{transformed:n,runningContext:t}}var ee=/^\s$/,Ae=/^\\[\s#]$/,te=/^[ \t]$/,he=/^\\[ \t]$/,Ne=new RegExp(String.raw`
\\(?: [gk]<
  | [pPu]\{
  | c[A-Za-z]
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  | 0\d+
)
| \[\^
| ${O}
| \(\?<
| (?<dp>[${R}])\k<dp>
| --
| \\?.
`.replace(/\s+/g,""),"gsu");function re(e,t){e=String(e);let r=!1,n=!1,s=!1,a="",o="",u="",l="",f=!1,d=(i,{prefix:m=!0,postfix:g=!1}={})=>(i=(f&&m?"(?:)":"")+i+(g?"(?:)":""),f=!1,i);for(let[i]of e.matchAll(Ne)){if(s){i===`
`&&(s=!1,f=!0);continue}if(r){if(ee.test(i))continue;r=!1,f=!0}else if(n){if(te.test(i))continue;n=!1}a+=i,t=U(a,t);let{regexContext:m,charClassContext:g}=t;if(i==="-"&&m===c.CHAR_CLASS&&l===p.RANGE)throw new Error("Invalid unescaped hyphen as the end value for a range");if(m===c.DEFAULT&&/^(?:[?*+]|\?\?)$/.test(i)||m===c.INTERVAL_QUANTIFIER&&i==="{")o+=d(i,{prefix:!1,postfix:u==="("&&i==="?"});else if(m===c.DEFAULT)ee.test(i)?r=!0:i.startsWith("#")?s=!0:Ae.test(i)?o+=d(i[1],{prefix:!1}):o+=d(i);else if(m===c.CHAR_CLASS&&i!=="["&&i!=="[^")if(te.test(i)&&(g===p.DEFAULT||g===p.RANGE||g===p.Q_TOKEN))n=!0;else{if(g===p.INVALID_INCOMPLETE_TOKEN)throw new Error(`Invalid incomplete token in character class: "${i}"`);he.test(i)&&(g===p.DEFAULT||g===p.Q_TOKEN)?o+=d(i[1],{prefix:!1}):g===p.DEFAULT?o+=d(G(D(i))):o+=d(i)}else o+=d(i);r||n||s||(u=i,l=g)}return{transformed:o,runningContext:t}}function ne(e){let t=String.raw`\(\?:\)`;return e=h(e,`(?:${t}){2,}`,"(?:)",E.DEFAULT),e=h(e,String.raw`^${t}(?![?*+{])|${t}$|${t}(?=[()|$\\])|(?<=[()|>^]|\(\?(?:[:=!]|<[=!]))${t}`,"",E.DEFAULT),e}function oe(e){if(!L(e,"\\(\\?>",E.DEFAULT))return e;let t=new RegExp(String.raw`(?<noncapturingStart>${O})|(?<capturingStart>\((?:\?<[^>]+>)?)|(?<backrefNum>\\[1-9]\d*)|\\?.`,"gsu"),r="(?>",n="(?:(?=(",s=0,a=0,o=NaN,u;do{u=!1;let l=0,f=0,d=!1,i;for(t.lastIndex=Number.isNaN(o)?0:o+n.length;i=t.exec(e);){let{0:m,index:g,groups:{backrefNum:T,capturingStart:w,noncapturingStart:_}}=i;if(m==="[")l++;else if(l)m==="]"&&l--;else if(m===r&&!d)o=g,d=!0;else if(d&&_)f++;else if(w)d&&f++,s++;else if(m===")"&&d){if(!f){a++,e=`${e.slice(0,o)}${n}${e.slice(o+r.length,g)}))\\k<$$${a+s}>)${e.slice(g+1)}`,u=!0;break}f--}else if(T)throw new Error(`Invalid decimal escape "${m}" in interpolated regex; cannot be used with atomic group`)}}while(u);return e=h(e,String.raw`\\k<\$\$(?<backrefNum>\d+)>`,({groups:{backrefNum:l}})=>`\\${l}`,E.DEFAULT),e}var se=String.raw`\\g<(?<subroutineName>[^>&]+)>`,Q=String.raw`\((?:(?!\?)|\?<(?![=!])(?<captureName>[^>]+)>)`,$=new RegExp(String.raw`
${se}
| (?<capturingStart>${Q})
| \\(?<backrefNum>[1-9]\d*)
| \\k<(?<backrefName>[^>]+)>
| \\?.
`.replace(/\s+/g,""),"gsu");function ie(e){if(!L(e,"\\\\g<",E.DEFAULT))return e;let t=Te(e),r=[0],n=we(e),s=0,a=0,o=new Map,u=[],l=0,f=e,d;for($.lastIndex=0;d=$.exec(f);){let{0:i,index:m,groups:{subroutineName:g,capturingStart:T,backrefNum:w,backrefName:_}}=d;if(i==="[")l++;else if(l)i==="]"&&l--;else{let C=o.size?o.get(H(u)):null;if(g){if(!t.has(g))throw new Error(`Invalid named capture referenced by subroutine ${i}`);if(o.has(g))throw new Error(`Subroutine ${i} followed a recursive reference`);let N=t.get(g),A=x(N)+1;a+=A;let b=`(${N})`;o.set(g,{contents:N,unclosedGroupCount:_e(b),numCaptures:A}),u.push(g),f=K(f,m,i,b),$.lastIndex-=i.length}else if(T)o.size?(i!=="("&&(f=K(f,m,i,"("),$.lastIndex-=i.length),r.push(H(r)+C.numCaptures)):(s++,r.length===s&&r.push(H(r)));else if(w){let N=+w,A;if(o.size?N>n&&(A=s+a-n-C.numCaptures):A=r[N],A){let b=`\\${N+A}`;f=K(f,m,i,b),$.lastIndex+=b.length-i.length}}else if(_){if(o.size){let N=!1;for(let A of u)if(L(o.get(A).contents,String.raw`\(\?<${_}>`,E.DEFAULT)){N=!0;break}if(N){let A=`\\${Se(e,_)}`;f=K(f,m,i,A),$.lastIndex-=i.length}}}else i===")"&&o.size&&(C.unclosedGroupCount--,C.unclosedGroupCount||o.delete(u.pop()))}}return f}function we(e){let t=new Set;I(e,se,({groups:{subroutineName:a}})=>{t.add(a)},E.DEFAULT);let r=0,n=0,s;for(;s=P(e,Q,n,E.DEFAULT);){let{0:a,index:o,groups:{captureName:u}}=s;if(t.has(u))break;r++,n=o+a.length}return r}function Se(e,t){let r=0,n=0,s;for(;s=P(e,Q,n,E.DEFAULT);){let{0:a,index:o,groups:{captureName:u}}=s;if(r++,u===t)break;n=o+a.length}return r}function K(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}function Te(e){let t=new Map;return I(e,String.raw`\(\?<(?<captureName>[^>]+)>`,({0:r,index:n,groups:{captureName:s}})=>{t.has(s)||t.set(s,q(e,n+r.length))},E.DEFAULT),t}function _e(e){let t=0;return I(e,String.raw`\(`,()=>t++,E.DEFAULT),t}function H(e){return e[e.length-1]}var Le="&!#%,:;<=>@`~",Ce=new RegExp(String.raw`
\[\^?-?
| --?\]
| (?<dp>[${R}])\k<dp>
| --
| \\(?<vOnlyEscape>[${Le}])
| \\[pPu]\{[^}]+\}
| \\?.
`.replace(/\s+/g,""),"gsu");function ae(e,t){let r='Invalid unescaped "-" in character class',n=!1,s=!1,a="";for(let{0:o,groups:{dp:u,vOnlyEscape:l}}of e.matchAll(Ce)){if(o[0]==="["){if(n)throw new Error("Invalid nested character class when flag v not supported; possibly from interpolation");if(o.endsWith("-"))throw new Error(r);n=!0,s=o[1]==="^"}else if(o.endsWith("]")){if(o[0]==="-")throw new Error(r);n=s=!1}else if(n){if(o==="&&"||o==="--")throw new Error(`Invalid set operator "${o}" when flag v not supported`);if(u)throw new Error(`Invalid double punctuator "${o}", reserved by flag v`);if("(){}/|".includes(o))throw new Error(`Invalid unescaped "${o}" in character class`);if(s&&o.startsWith("\\P")&&t.includes("i"))throw new Error("Negated \\P in negated character class with flag i works differently with flag v");if(l){a+=l;continue}}a+=o}return a}var Ie=function(e,...t){let r=this instanceof Function?this:RegExp;if(Array.isArray(e?.raw))return v(r,{flags:""},e,...t);if((typeof e=="string"||e===void 0)&&!t.length)return v.bind(null,r,{flags:e});if({}.toString.call(e)==="[object Object]"&&!t.length)return v.bind(null,r,e);throw new Error(`Unexpected arguments: ${JSON.stringify([e,...t])}`)};function v(e,t,r,...n){let{flags:s="",postprocessors:a=[],__flagN:o=!0,__flagV:u=B,__flagX:l=!0,__rake:f=!0}=t;if(/[vu]/.test(s))throw new Error("Flags v/u cannot be explicitly added");l&&({template:r,values:n}=j(r,n,re)),o&&({template:r,values:n}=j(r,n,Y));let d=0,i="",m={};r.raw.forEach((T,w)=>{let _=r.raw[w]||r.raw[w+1];d+=x(T),i+=D(T,E.CHAR_CLASS),m=U(i,m);let{regexContext:C,charClassContext:N}=m;if(w<r.raw.length-1){let A=n[w];i+=Re(A,s,C,N,_,d),(A instanceof RegExp||A instanceof S)&&(d+=x(A.source||String(A)))}});let g=[...a,oe,ie];return u||g.push(ae),f&&g.push(ne),g.forEach(T=>i=T(i,s)),new e(i,(u?"v":"u")+s)}function Re(e,t,r,n,s,a){if(e instanceof RegExp&&r!==c.DEFAULT)throw new Error("Cannot interpolate a RegExp at this position because the syntax context does not match");if(r===c.INVALID_INCOMPLETE_TOKEN||n===p.INVALID_INCOMPLETE_TOKEN)throw new Error("Interpolation preceded by invalid incomplete token");let o=e instanceof S,u;if(!(e instanceof RegExp)){e=String(e),o||(u=M(e,r===c.CHAR_CLASS?E.CHAR_CLASS:E.DEFAULT));let l=J(u||e,r,n);if(l)throw new Error(`Unescaped stray "${l}" in the interpolated value would have side effects outside it`)}if(r===c.ENCLOSED_TOKEN||r===c.INTERVAL_QUANTIFIER||r===c.GROUP_NAME||n===p.ENCLOSED_TOKEN||n===p.Q_TOKEN)return o?e:u;if(r===c.CHAR_CLASS){if(o){if(L(e,"^-|^&&|-$|&&$"))throw new Error("Cannot use range or set operator at boundary of partial; move the operation into the partial or the operator outside of it");let l=Z(G(e));return V(e)?`[${l}]`:D(l)}return V(u)?`[${u}]`:u}if(e instanceof RegExp){let l=Oe(e,t),f=X(l.value,a);return l.usedModifier?f:`(?:${f})`}return o?`(?:${e})`:s?`(?:${u})`:u}function Oe(e,t){let r={i:null,m:null,s:null},n="\\n\\r\\u2028\\u2029",s=e.source;if(e.ignoreCase!==t.includes("i"))if(F)r.i=e.ignoreCase;else throw new Error("Pattern modifiers not supported, so the value of flag i on the interpolated RegExp must match the outer regex");if(e.dotAll!==t.includes("s")&&(F?r.s=e.dotAll:s=h(s,"\\.",e.dotAll?"[^]":`[^${n}]`,E.DEFAULT)),e.multiline!==t.includes("m")&&(F?r.m=e.multiline:(s=h(s,"\\^",e.multiline?`(?<=^|[${n}])`:"(?<![^])",E.DEFAULT),s=h(s,"\\$",e.multiline?`(?=$|[${n}])`:"(?![^])",E.DEFAULT))),F){let a=Object.keys(r),o=a.filter(l=>r[l]===!0).join(""),u=a.filter(l=>r[l]===!1).join("");if(u&&(o+=`-${u}`),o)return{value:`(?${o}:${s})`,usedModifier:!0}}return{value:s}}return Ee(Ue);})();
